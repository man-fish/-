# css文件分离和优化

#### 文件分离和前缀补全

###### 安装

```shell
npm i mini-css-extract-plugin autoprefixer postcss-loader -D
```

###### 代码

```js
const glob = require("glob")
const path = require("path")
const MiniCssExtractPlugin = require("mini-css-extract-plugin")

module.exports = {
    entry:entry,
    output:{
        path:path.join(__dirname+"./../dist"),
        filename:'[name]_[hash:8].js'
    },
    module:{
        rules: [
            {
                test: /\.css$/,
                use:[
                    MiniCssExtractPlugin.loader,
                    "css-loader",
                    {
                        loader:'postcss-loader',
                        options:{
                            plugins:()=>{
                                require("autoprefixer")({
                                    overrideBrowserslist: ['last 2 version', '>1%', 'ios 7']
                                })
                            }
                        }
                    }
                ]
            }
        ]
    },
    plugins:[
        new MiniCssExtractPlugin({
            filename:"[name]_[contenthash:8].css"
        }),
        //css代码分离
    ]
}
```

#### css rem转换