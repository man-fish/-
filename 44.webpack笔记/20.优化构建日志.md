# 优化构建日志

通常webpack项目中控制台会打印很多没有用的信息，我们通常不需要一些插件的执行日志，我们关注的通常是报错和警告信息，这时我们就需要对构建日志进行优化

### 使用webpack自带的state字段

![1573716142334](F:\我的笔记\image\1573716142334.png)

##### 生产环境下prod：

```js
{
	plugins: [
        new webpack.HotModuleReplacementPlugin(),
        new CleanWebpackPlugin()
        //自动刷新+清理目录产物
    ].concat(htmlwebpackplugins),
    state:"errors-only"
}
```

##### 开发环境下dev：

```
{
	plugins: [
        new webpack.HotModuleReplacementPlugin(),
        new CleanWebpackPlugin()
        //自动刷新+清理目录产物
    ].concat(htmlwebpackplugins),
    devServer:{
        contentBase:path.join(__dirname+"./../dist"),
        hot:true,
        state:"errors-only" 
    }
}
```

但是这样的提示还是不够友好，构建成功没有明显的提示，失败和警告没有明显的区分。

### friendly-errors-webpack-plugin

##### 效果

![1573716521993](F:\我的笔记\image\1573716521993.png)

##### 使用

下载

```shell
npm i friendly-errors-webpack-plugin -D
```

添加到插件数组

```js
{
	plugins: [
        new FriendlyErrorsWebpackPlugin()
    ],
    stats:"errors-only"
```

