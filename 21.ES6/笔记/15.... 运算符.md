# ... 运算符

## 原理

> **对象中的扩展运算符(...)用于取出参数对象中的所有可遍历属性，拷贝到当前对象之中**

## 栗子

- 可以将数组转换为参数序列

```javascript
function add(x, y) {
    console.dir(arguments)
  	return x + y;
}

Arguments(5)
0: 4
1: 38
callee: ƒ f()
length: 5
Symbol(Symbol.iterator): ƒ values()
__proto__: Object

const numbers = [4, 38];
add(...numbers) // 42
```

```js
const  s = new String("sdasda")
console.dir(s)

String
0: "s"
1: "d"
2: "a"
3: "s"
4: "d“
5: "a"
length: 6__proto__: 
String[[PrimitiveValue]]: "sdasda"

const sA = [...s]
console.dir(sA)

(5) [1, 2, 3, 4, 5]
0: 1
1: 2
2: 3
3: 4
4: 5
length: 5
__proto__: Array(0)
```

用于取出参数对象（字符串对象）中的所有可遍历属性（0，1，2，3，4，5），拷贝到当前对象之中的可遍历属性之中（第一个0，1，2，3，n个元素）。



## 参数整合

```html
<script>
/**
  * 三点运算符（真数组）
  * 做参数
  */
	function three(a,...value){
		value.forEach(function(index,item){
			console.log(index+" "+item)
		})
	}
	three(1,7,9,5)
	//7,9,5
</script>
```

> 三点运算符会把参数整合成一个真数组

## 数组拼接

```html
<script>
/**
  * 三点运算符（真数组）
  * 搞数组
  */
	let arrOut = [1,6]
	let arrIn = [2,3,4,5]
	console.log(...arrIn)
	//三点运算符会自动帮我们把数组拆开。
	let arr = [1,...arrIn,6]
	//用于数组拼接
	console.log(arr)
</script>
```

## 处理Rest 参数

我们知道 `arguments` 是类数组，没有数组相关方法。为了使用数组上的一些方法，我们需要先 用`Array.prototype.slice.call(arguments)` 或者 `[...arguments]` 来将 `arguments` 类数组转化为数组。

ES6 允许我们通过 Rest 参数来获取函数的多余参数：

```javascript
// 获取函数所有的参数，rest 为数组
function func1(...rest){ /* ... */}

// 获取函数第一个参数外其他的参数，rest 为数组
function func1(val, ...rest){ /* ... */}
```

注意，Rest 参数只能放在最后一个，否则会报错：

```javascript
// 报错 SyntaxError: Rest 参数必须是最后一个参数
function func1(...rest, a){ /* ... */}
```

> 形参名并不必须是 `rest`，也可以是其它名称，使用者可以根据自己的习惯来命名。

