# 沙箱和奇淫巧技

### 1.闭包

> 注意点：每个包的结尾必须加";"。

```javascript
    (function(){
      var num = 10;
    })()
    console.log(num);
	----报错---
    (function(){
    	console.log(num);
    ----报错---
    }());
	--------------闭包中的函数是自动执行的，包与外域以及外包之间互不影响。
```

### 2.别的写法

```javascript
    +function(){
        var key =10;
    }()
```

#### ---这么写的原理

```javascript
function(){;}();
这么写会报错------函数声明和调用不能写在一起
    document.getElementsByTagName("body")[0].onclick = function(){
      console.log(this);
    }();
    var a = function(){;}()
    //但是这样的话就不会有那样的影响因为这样声明就变成了表达式
        (function(){;})()
    //这样就不一样了（fn）的结果是返回fn，相当于把声明变成了执行。
```

### 3.有趣的写法

```javascript
Number.prototype.add = function(){
    console.log(this);
}
2.add();
//----------报错
2['add']()
(2).add();
//==========不报错
```

> 原因
>
> 1.第一部分的原因:这个我们都知道原生对象的实例方法，而2就是一个Number的实例对象。
>
> 2.但是为什么要使用['add'] 而不是 .add 因为javascript会把2add.自动识别成小数，就报错了。

### 4.实际应用

```javascript
(function(window){
    function init(){
        console.log("配置成功")
    }
    window.init = init;
})(window)
	init();
```

> 一般用于返回全局对象。