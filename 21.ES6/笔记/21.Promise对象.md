# Promise对象

```js
<!--
1. 理解:
  * Promise对象: 代表了未来某个将要发生的事件(通常是一个异步操作)
  * 有了promise对象, 可以将异步操作以同步的流程表达出来, 避免了层层嵌套的回调函数(俗称'回调地狱')
  * ES6的Promise是一个构造函数, 用来生成promise实例
2. 使用promise基本步骤(2步):
  * 创建promise对象
    let promise = new Promise((resolve, reject) => {
        //初始化promise状态为 pending
      //执行异步操作
      if(异步操作成功) {
        resolve(value);//修改promise的状态为fullfilled
      } else {
        reject(errMsg);//修改promise的状态为rejected
      }
    })
  * 调用promise的then()
    promise.then(function(
      result => console.log(result),
      errorMsg => alert(errorMsg)
    ))
3. promise对象的3个状态
  * pending: 初始化状态
  * fullfilled: 成功状态
  * rejected: 失败状态
```

```js
let promise = new Promise(function(resolve,reject){
        setTimeout(function(){
            console.log("love")
            resolve("loveEnd")
        },1000)
    })
    promise.then((data)=>{
        console.log(data)
    },(err)=>{
        console.log(err)
    })
    // 再弄一个请求套请求
```

```javascript
        // 可以看出来仍然不是很清晰的回调解决方式
        let promise = new Promise(function(resolve){
            setTimeout(function(){
                console.log("I")
                resolve("love")
            },1000)
        })
        promise.then((data)=>{
    
            let promise2 = new Promise((resolve)=>{
                setTimeout(()=>{
                    console.log("you")
                    resolve("xu")
                },2000)
            })
    
            promise2.then((data)=>{
                console.log(data)
            })
        })
```

使用try catch语句来捕获Promise对象的错误返回

```js
try{
    let promise = new Promise(function(){

    })
 }catch(err){
 	console.log(err)
 }
```

