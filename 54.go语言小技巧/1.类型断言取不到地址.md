# 类型断言取不到地址 

#### 代码段

```go
func main() {
    var a Integer = 1
    var b Integer = 1
    sum := a.Add(b)
    fmt.Println(sum)

    var i interface{} = a
    sum = i.(Integer).Add(b) // 报错
    fmt.Println(sum)
}

type Integer int

func (a *Integer) Add(b Integer) Integer {
    return  *a + b
}
```

#### 报错信息如

 `test\testVar.go:16:19: cannot call pointer method on i.(Integer)`
 `test\testVar.go:16:19: cannot take the address of i.(Integer)`

#### 原因

出现这种情况是因为Add方法需要一个Integer指针类型的接收器，而我们传过去的i.(Integer)是个值，且这个值也没有赋给任何变量，所以符号“&”是获取不到地址的。

![img](F:\我的笔记\54.go语言小技巧\assets\webp)

#### 解决

正确的方式是将i.(Integer)赋值给一个变量，或者把方法接收器改成普通类型。

```csharp
var i interface{} = a
c := i.(Integer)
sum = c.Add(b)
fmt.Println(sum)
```

or

```go
func (a Integer) Add(b Integer) Integer {
    return  a + b
}
```

