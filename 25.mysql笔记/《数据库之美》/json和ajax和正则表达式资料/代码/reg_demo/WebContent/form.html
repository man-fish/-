<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>

<script type="text/javascript">
function submitForm(){
	var isSubmit = true;
	
	//获得每一个input元素
	var inputs = document.getElementsByTagName('input');
	
	for(var i = 0; i < inputs.length; i++){
		var inputObj = inputs[i];
		if(inputObj.type != 'submit'){
			//获得正则表达式
			var reg = inputObj.getAttribute("reg");
			var tip = inputObj.getAttribute("tip");
			var regObj = new RegExp(reg);
			//获得输入的值
			var val = inputObj.value;
			if(!regObj.test(val)){
				var spans = inputObj.parentNode.getElementsByTagName('span');
				spans[0].innerHTML = "<font color='red'>"+tip+"</font>";
				isSubmit = false;
			}else{
				var spans = inputObj.parentNode.getElementsByTagName('span');
				spans[0].innerHTML = "";
			}
			
		}
	}
	
	return isSubmit;
}

function regist(inputObj){
	//获得正则表达式
	var reg = inputObj.getAttribute("reg");
	var tip = inputObj.getAttribute("tip");
	var regObj = new RegExp(reg);
	//获得输入的值
	var val = inputObj.value;
	if(!regObj.test(val)){
		var spans = inputObj.parentNode.getElementsByTagName('span');
		spans[0].innerHTML = "<font color='red'>"+tip+"</font>";
		
	}else{
		var spans = inputObj.parentNode.getElementsByTagName('span');
		spans[0].innerHTML = "";
	}
}
</script>

</head>
<body>
<form action="success.html" id="myform" method="post" onsubmit="return submitForm()">
<table>
	<tr>
		<td>用户名</td>
		<td><input id="username" type="text" reg="^\w{3,5}$" tip="请输入3到5位的英文或数字或者下划线" onblur="regist(this)"><span></span></td>
	</tr>
	<tr>
		<td>密码</td>
		<td><input id="password" type="password" reg="^\w{6,8}$" tip="请输入6到8位的英文或数字或者下划线" onblur="regist(this)"><span></span></td>
	</tr>
	<tr>
		<td>地址</td>
		<td><input id="address" type="text" reg="^[\u4e00-\u9fa5]{2,50}$" tip="请输入2到50位的中文" onblur="regist(this)"><span></span></td>
	</tr>
	<tr>
		<td>年龄</td>
		<td><input id="age" type="text" reg="^1?[0-9][0-9]?$" tip="请输入0到199的数字" onblur="regist(this)"><span></span></td>
	</tr>
	<tr>
		<td>邮箱</td>
		<td><input id="email" type="text" reg="^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$" onblur="regist(this)" tip="请输入正确的格式如：example@126.com"><span></span></td>
	</tr>
	<tr>
		
		<td><input  type="submit" value="注册"><span></span></td>
	</tr>
</table>


</form>
</body>
</html>