# 组合查询 union

#### 组合查询

```
select prod_name,prod_id 
from products
where prod_id >= 6 or prod_name = "tnt"
===组合查询
select prod_name,prod_id
from products
where prod_id >= 6
union
select prod_name,prod_id
from products
where prod_name = "tnt"
```

> 这两个语句是等效的，但是在条件比较复杂的时候，组合查询的效率高于多条件判断。

#### 使用场景

> 1. 当我们查询的结果结构相似的时候就可以使用组合查询。
> 2. 在1的基础上，查询两个表的数据或者复杂查询条件。

#### UNION的查询规则

##### 查询之后，会自动过滤重复数据

```
select prod_name,prod_id
from products
where prod_id >= 6
union all
select prod_name,prod_id
from products
where prod_name = "tnt"
```

> 使用union all可以避免这个效果。

##### 查询语句中只能在最后进行一次排序

```
select prod_name,prod_id
from products
where prod_id >= 6
union all
select prod_name,prod_id
from products
where prod_name = "tnt"
order by prod_id
```

