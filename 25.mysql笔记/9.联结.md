# 联结

### 什么是联结

就是几个表联结成一个小团体，用已有的线索共同去查一些东西。

### 为什么要使用主键和外键

维护完整性，表与表之间的关联是必须，我们必须做到更改一个表的信息时对其他的表几乎没有影响或者影响很小，那么我们最好的办法就是在生成表与表之间的关联时使用主键和外键。

### 为什么要使用联结

为了更有效，更方便的储存，达到很大的可伸缩性，我们通常在创建表之前将表一次又一次的细分，那么现在如何是用一条select语句查询出多个表里面的数据呢----联结，联结是一种语法，将多个表中的数据通过关联查询出来。

### 创建联结

##### 等值联结（内部联结）

```
select prod_name,prod_price,vend_name 
	from product,vendors 
	where products.vend_id = vendors.vend_id
```

> 联结要from需要联结的两个表，而且查询限定条件要使用完全限定列名。

##### 小知识：

*如果不使用where子句来限定查询条件，查询出的结果就是一个**笛卡尔积**，即第一个表的行数乘以第二表的行数。*

##### 规定推荐的写法：

```
select prod_name,prod_price,vend_name 
	from products inner join vendors
	on products.vend_id = vendors.vend_id
```

> 这种写法更加的符合逻辑，是sql推荐的写法，同时也会小幅度影响性能。

##### 多表联结

```
select cust_name from orders, orderitems,customs where customs.cust_id = orders.cust_id and orders.order_num = orderitems.order_num and orderitems.prod_id = 'tnt'
```

> 当我们想用多个表之间的关系来取一个值的时，条件由取值表（customs）到索值表（products）。	
