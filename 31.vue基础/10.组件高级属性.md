# 组件高级属性

#### ref

```js
import Vue from "vue"

const component = {
    template:`
        <div>
            <slot name="header" head="love" hat="hat"></slot>
            <slot name="body"></slot>
        </div>
    `
}

new Vue({
    components:{
        CompOne:component
    },
    el:"#root",
    template:`
        <div>
            <comp-one ref="comp">
                <span ref="span1" slot="header" slot-scope="props">{{props.head}}{{props.hat}}</span>
                <span slot="body">{{value2}}</span>
            </comp-one>
        </div>
    `,
    data(){
        return{
            value:123,
            value2:456
        }
    },
    mounted(){
        console.log(this.$refs.comp)
        //返回组件实例。
        console.log(this.$refs.span1.innerHTML)
        //返回html节点实例。
    }
})
```

#### 如何获取爷爷辈的组件或者实例内容？

```js
import Vue from "vue"

const component = {
    inject:['yeye','value'],
    mounted(){
        console.log(this.yeye)
        console.log(this.value)
    }
}

new Vue({
    components:{
        CompOne:component
    },
    provide(){
        const data = {}

        Object.defineProperty(data,'value',{
            get:()=>this.value,
            enumerable:true
        })

        return data;
    },
    el:"#root",
    data(){
        return{
            value:123,
            value2:456
        }
    }
})
```

provide的内容是不有reactive能力的，我们需要使用get观察者模式来模拟这种能力。