# Redis

## 为什么要使用Redis

在**nodejs**中**session**直接使用的是js变量，放在**nodejs**的进程内存中，于是就产生了两个致命的问题。

> - 进程内存有限（2G到4G），访问量过大时，内存暴增，据进程的内存图，session占用的是堆内存，这个绿色的区域（堆内存）就会不断的被撑大，然后就爆了，你这个nodejs的进程内存就爆了。
>
> ![进程内存图](F:\我的笔记\image\进程内存图.png)
>
> - 多进程，正式上线时为了充分榨取服务器的性能，我们需要开启多进程来跑我们的项目所以说，session之间的访问就出了问题。
>
> ![多进程](F:\我的笔记\image\多进程.png)

## Redis的好处

redis不占用nodejs服务器的内存，同时也是用内存存储数据，方便访问，session不考虑断电数据储存，且占用量比较小。

![redis和mysql](F:\我的笔记\image\redis和mysql.png)

> 内存读写速度和硬盘读写速度用一个数量级的差别。

