# 开发时被加塞了紧急任务（stash）

我们实际开发过程中，可能因为线上错误被测试加塞紧急任务，这个时候我们就需要把暂存区的文件暂时存储然后清空暂存区，方便我们对加塞的紧急任务进行提交。

### git stash

这个命令可以看作是通过栈的方式来实现暂存区的暂存。

###### git stash

将暂存区的文件存入stash。

###### git stash list

查看暂存区文件

###### git stash pop

获取暂存区的文件，同时删除栈中的复制。

###### git stash apply

拷贝栈中的文件到暂存区

###### 代码演示

```bash
Administrator@DESKTOP-S39Q6LU MINGW64 ~/Desktop/git-learn (master|REBASE-i)
$ git status
On branch master
No commands done.
Next commands to do (2 remaining commands):
   pick fddb186 服务器构建完成
   pick eda2d3c Create a complete webpage
  (use "git rebase --edit-todo" to view and edit)
You are currently editing a commit while rebasing branch 'master' on 'c0178fc'.
  (use "git commit --amend" to amend the current commit)
  (use "git rebase --continue" once you are satisfied with your changes)

Changes to be committed:
  (use "git restore --staged <file>..." to unstage)
        new file:   1.js
        new file:   2.html

Untracked files:
  (use "git add <file>..." to include in what will be committed)
        1js


Administrator@DESKTOP-S39Q6LU MINGW64 ~/Desktop/git-learn (master|REBASE-i)
$ git stash
Saved working directory and index state WIP on master: eda2d3c Create a complete webpage

Administrator@DESKTOP-S39Q6LU MINGW64 ~/Desktop/git-learn (master|REBASE-i)
$ git status
On branch master
No commands done.
Next commands to do (2 remaining commands):
   pick fddb186 服务器构建完成
   pick eda2d3c Create a complete webpage
  (use "git rebase --edit-todo" to view and edit)
You are currently editing a commit while rebasing branch 'master' on 'c0178fc'.
  (use "git commit --amend" to amend the current commit)
  (use "git rebase --continue" once you are satisfied with your changes)

Untracked files:
  (use "git add <file>..." to include in what will be committed)
        1js

nothing added to commit but untracked files present (use "git add" to track)

Administrator@DESKTOP-S39Q6LU MINGW64 ~/Desktop/git-learn (master|REBASE-i)
$ git add 1js

Administrator@DESKTOP-S39Q6LU MINGW64 ~/Desktop/git-learn (master|REBASE-i)
$ git commit -m
error: switch `m' requires a value

Administrator@DESKTOP-S39Q6LU MINGW64 ~/Desktop/git-learn (master|REBASE-i)
$ git commit -m "线上错误更改"
[master 1d5caec] 线上错误更改
 1 file changed, 0 insertions(+), 0 deletions(-)
 create mode 100644 1js

Administrator@DESKTOP-S39Q6LU MINGW64 ~/Desktop/git-learn (master|REBASE-i)
$ git rm 1js
rm '1js'

Administrator@DESKTOP-S39Q6LU MINGW64 ~/Desktop/git-learn (master|REBASE-i)
$ git stash pop
On branch master
No commands done.
Next commands to do (2 remaining commands):
   pick fddb186 服务器构建完成
   pick eda2d3c Create a complete webpage
  (use "git rebase --edit-todo" to view and edit)
You are currently editing a commit while rebasing branch 'master' on 'c0178fc'.
  (use "git commit --amend" to amend the current commit)
  (use "git rebase --continue" once you are satisfied with your changes)

Changes to be committed:
  (use "git restore --staged <file>..." to unstage)
        renamed:    1js -> 1.js
        new file:   2.html

Dropped refs/stash@{0} (a837831217ff2a43ef4cfd0e914810ab1addc60a)

```

